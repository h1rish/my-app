pipeline {
  agent any
  stages {
    stage('docker build') {
      steps {
        sh 'docker build . -t harishchow/hai:2.0'
        withCredentials([file(credentialsId: '', variable: 'mydocker')]) {
          sh 'docker login -u harishchow -p ${'mydocker'}'
          sh 'docker push harishchow/hai:2.0'
        }
       }
     }
  }
}  
